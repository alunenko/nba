div(ng-controller="PlayersCtrl as players")
  .well
    h1 NBA tools 2015

  .col-lg-6.col-md-6.col-sm-6.col-xs-12
    p projection
    span(ng-bind="rangeProjData.search.proj" style="float: left")
    span(ng-bind="rangeProjData.max" style="float: right")
    input(type="range" min="{{ rangeProjData.min }}" max="{{ rangeProjData.max }}" ng-model="rangeProjData.search.proj")

  .col-lg-6.col-md-6.col-sm-6.col-xs-12
    p salary
    span(ng-bind="rangeSalary.search.salary" style="float: left")
    span(ng-bind="rangeSalary.max" style="float: right")
    input(type="range" min="{{ rangeSalary.min }}" max="{{ rangeSalary.max }}" ng-model="rangeSalary.search.salary")

  div
    table.table.table-responsive.table-striped.hidden-md.hidden-sm.hidden-xs
      thead
        tr
          td player
          td pos
          td tm
          td opp
          td eff pos
          td min
          td ur
          td rr
          td ar
          td man ea
          td proj.
          td dfs site
          td sal
          td val thr
          td val
      tbody
        tr(ng-repeat="player in playersData.players | limitTo:showMoreCount | filter:greaterThan1('proj', rangeProjData.search) | filter:greaterThan2('draftkings.salary', rangeSalary.search)")
          td(ng-bind="player.player")
          td(ng-bind="player.pos.draftkings")
          td(ng-bind="player.team")
          td(ng-bind="player.opp")
          td(ng-bind="player.effectivePos.new")
          td
            input(
              type="number"
              min="0"
              max="59"
              ng-model="player.statsCurrentSeason.minutes.new"
              ng-change="calculateProj(player)"
            )
          td
            input(
              type="number"
              min="0"
              max="60"
              ng-model="player.statsCurrentSeason.usageRate.new"
              ng-change="calculateProj(player)"
              step="0.01"
            )
          td
            input(
              type="number"
              min="0"
              max="30"
              ng-model="player.statsCurrentSeason.reboundRate.new"
              ng-change="calculateProj(player)"
            )
          td
            input(
              type="number"
              min="0"
              max="70"
              ng-model="player.statsCurrentSeason.assistsRate.new"
              ng-change="calculateProj(player)"
            )
          td
            input(
              type="number"
              min="0.7"
              max="1.3"
              ng-model="player.manualEffAdj.new"
              ng-change="calculateProj(player)"
              step="0.01"
            )
          td(ng-bind="player.proj | number:3")
          td(ng-bind="player.draftkings.name")
          td(ng-bind="player.draftkings.salary")
          td(ng-bind="player.draftkings.valueThreshold")
          td(ng-bind="player.draftkings.value.new")

    table.mobile-table.table.table-responsive.table-striped.table-hover.visible-md-block.visible-sm-block.visible-xs-block.col-md-12.col-sm-12.col-xs-12
      tr(ng-repeat="player in playersData.players | limitTo:showMoreCount | filter:greaterThan1('proj', rangeProjData.search) | filter:greaterThan2('draftkings.salary', rangeSalary.search)").col-md-6.col-sm-6.col-xs-12
        td
          table.table.table-hover
            tr
              th player
              td(ng-bind="player.player")
            tr
              th pos
              td(ng-bind="player.pos.draftkings")
            tr
              th tm
              td(ng-bind="player.team")
            tr
              th opp
              td(ng-bind="player.opp")
            tr
              th eff pos
              td(ng-bind="player.effectivePos.new")
            tr
              th min
              td
                input(
                  type="number"
                  min="0"
                  max="59"
                  ng-model="player.statsCurrentSeason.minutes.new"
                  ng-change="calculateProj(player)"
                )
            tr
              th ur
              td
                input(
                  type="number"
                  min="0"
                  max="60"
                  ng-model="player.statsCurrentSeason.usageRate.new"
                  ng-change="calculateProj(player)"
                  step="0.01"
                )
            tr
              th rr
              td
                input(
                  type="number"
                  min="0"
                  max="30"
                  ng-model="player.statsCurrentSeason.reboundRate.new"
                  ng-change="calculateProj(player)"
                )
            tr
              th ar
              td
                input(
                  type="number"
                  min="0"
                  max="70"
                  ng-model="player.statsCurrentSeason.assistsRate.new"
                  ng-change="calculateProj(player)"
                )
            tr
              th man ea
              td
                input(
                  type="number"
                  min="0.7"
                  max="1.3"
                  ng-model="player.manualEffAdj.new"
                  ng-change="calculateProj(player)"
                  step="0.01"
                )
            tr
              th proj.
              td(ng-bind="player.proj | number:3")
            tr
              th dfs site
              td(ng-bind="player.draftkings.name")
            tr
              th sal
              td(ng-bind="player.draftkings.salary")
            tr
              th val thr
              td(ng-bind="player.draftkings.valueThreshold")
            tr
              th val
              td(ng-bind="player.draftkings.value.new")
    span.btn.btn-default(ng-click="showMore()" ng-hide="showMoreHide") show more